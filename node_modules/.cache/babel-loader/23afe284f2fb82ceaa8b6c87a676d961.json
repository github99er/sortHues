{"ast":null,"code":"import _objectSpread from \"C:/Users/Owner/Desktop/SortOfficial/AlgoMazeOff/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Desktop\\\\SortOfficial\\\\AlgoMazeOff\\\\src\\\\maze\\\\PathfindingVisualizer\\\\PathfindingVisualizer.jsx\";\nimport React, { Component } from 'react';\nimport Node from './Node/Node';\nimport { dijkstra, getNodesInShortestPathOrder } from '../algorithms/dijkstra';\nimport Navbar from \"../Navbar\";\nimport './PathfindingVisualizer.css';\nvar START_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\nvar START_NODE_COL = Math.floor(Math.random() * Math.floor(50));\nvar FINISH_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\nvar FINISH_NODE_COL = Math.floor(Math.random() * Math.floor(50));\nexport default class PathfindingVisualizer extends Component {\n  constructor() {\n    super();\n\n    this.getInitialGrid = () => {\n      var grid = [];\n\n      for (var row = 0; row < 20; row++) {\n        var currentRow = [];\n\n        for (var col = 0; col < 50; col++) {\n          currentRow.push(this.createNode(col, row));\n        }\n\n        grid.push(currentRow);\n      }\n\n      return grid;\n    };\n\n    this.createNode = (col, row) => {\n      console.log(this.state.grid);\n      return {\n        col,\n        row,\n        isStart: row === this.state.START_NODE_ROW && col === this.state.START_NODE_COL,\n        isFinish: row === this.state.FINISH_NODE_ROW && col === this.state.FINISH_NODE_COL,\n        distance: Infinity,\n        isVisited: false,\n        isWall: false,\n        previousNode: null\n      };\n    };\n\n    this.state = {\n      grid: [],\n      mouseIsPressed: false,\n      START_NODE_ROW: Math.floor(Math.random() * Math.floor(20)),\n      START_NODE_COL: Math.floor(Math.random() * Math.floor(50)),\n      FINISH_NODE_ROW: Math.floor(Math.random() * Math.floor(20)),\n      FINISH_NODE_COL: Math.floor(Math.random() * Math.floor(50))\n    };\n  }\n\n  componentDidMount() {\n    var grid = this.getInitialGrid();\n    this.setState({\n      grid\n    });\n  }\n\n  handleMouseDown(row, col) {\n    var newGrid = getNewGridWithWallToggled(this.state.grid, row, col);\n    this.setState({\n      grid: newGrid,\n      mouseIsPressed: true\n    });\n  }\n\n  handleMouseEnter(row, col) {\n    if (!this.state.mouseIsPressed) return;\n    var newGrid = getNewGridWithWallToggled(this.state.grid, row, col);\n    this.setState({\n      grid: newGrid\n    });\n  }\n\n  handleMouseUp() {\n    this.setState({\n      mouseIsPressed: false\n    });\n  }\n\n  animateDijkstra(visitedNodesInOrder, nodesInShortestPathOrder) {\n    var _this = this;\n\n    var _loop = function _loop(i) {\n      if (i === visitedNodesInOrder.length) {\n        setTimeout(() => {\n          _this.animateShortestPath(nodesInShortestPathOrder);\n        }, 10 * i);\n        return {\n          v: void 0\n        };\n      }\n\n      setTimeout(() => {\n        var node = visitedNodesInOrder[i];\n        document.getElementById(\"node-\".concat(node.row, \"-\").concat(node.col)).className = 'node node-visited';\n      }, 10 * i);\n    };\n\n    for (var i = 0; i <= visitedNodesInOrder.length; i++) {\n      var _ret = _loop(i);\n\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n  }\n\n  animateShortestPath(nodesInShortestPathOrder) {\n    var _loop2 = function _loop2(i) {\n      setTimeout(() => {\n        var node = nodesInShortestPathOrder[i];\n        document.getElementById(\"node-\".concat(node.row, \"-\").concat(node.col)).className = 'node node-shortest-path';\n      }, 50 * i);\n    };\n\n    for (var i = 0; i < nodesInShortestPathOrder.length; i++) {\n      _loop2(i);\n    }\n  }\n\n  visualizeDijkstra() {\n    var grid = this.state.grid;\n    var startNode = grid[this.state.START_NODE_ROW][this.state.START_NODE_COL];\n    var finishNode = grid[this.state.FINISH_NODE_ROW][this.state.FINISH_NODE_COL];\n    var visitedNodesInOrder = dijkstra(grid, startNode, finishNode);\n    var nodesInShortestPathOrder = getNodesInShortestPathOrder(finishNode);\n    this.animateDijkstra(visitedNodesInOrder, nodesInShortestPathOrder);\n  }\n\n  refreshPage() {\n    window.location.reload(false);\n  }\n\n  refreshGrid() {\n    var grid = this.getInitialGrid();\n    this.setState({\n      grid\n    });\n    var START_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\n    var START_NODE_COL = Math.floor(Math.random() * Math.floor(50));\n    var FINISH_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\n    var FINISH_NODE_COL = Math.floor(Math.random() * Math.floor(50));\n    this.setState({\n      START_NODE_ROW,\n      START_NODE_COL,\n      FINISH_NODE_ROW,\n      FINISH_NODE_COL\n    });\n  }\n\n  render() {\n    var _this$state = this.state,\n        grid = _this$state.grid,\n        mouseIsPressed = _this$state.mouseIsPressed;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, grid.map((row, rowIdx) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: rowIdx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }\n      }, row.map((node, nodeIdx) => {\n        var row = node.row,\n            col = node.col,\n            isFinish = node.isFinish,\n            isStart = node.isStart,\n            isWall = node.isWall;\n        return /*#__PURE__*/React.createElement(Node, {\n          key: nodeIdx,\n          col: col,\n          isFinish: isFinish,\n          isStart: isStart,\n          isWall: isWall,\n          mouseIsPressed: mouseIsPressed,\n          onMouseDown: (row, col) => this.handleMouseDown(row, col),\n          onMouseEnter: (row, col) => this.handleMouseEnter(row, col),\n          onMouseUp: () => this.handleMouseUp(),\n          row: row,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }\n        });\n      }));\n    })), /*#__PURE__*/React.createElement(Navbar, {\n      search: () => this.visualizeDijkstra(),\n      refresh: () => this.refreshGrid(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nvar getNewGridWithWallToggled = (grid, row, col) => {\n  var newGrid = grid.slice();\n  var node = newGrid[row][col];\n\n  var newNode = _objectSpread(_objectSpread({}, node), {}, {\n    isWall: !node.isWall\n  });\n\n  newGrid[row][col] = newNode;\n  return newGrid;\n};","map":{"version":3,"sources":["C:/Users/Owner/Desktop/SortOfficial/AlgoMazeOff/src/maze/PathfindingVisualizer/PathfindingVisualizer.jsx"],"names":["React","Component","Node","dijkstra","getNodesInShortestPathOrder","Navbar","START_NODE_ROW","Math","floor","random","START_NODE_COL","FINISH_NODE_ROW","FINISH_NODE_COL","PathfindingVisualizer","constructor","getInitialGrid","grid","row","currentRow","col","push","createNode","console","log","state","isStart","isFinish","distance","Infinity","isVisited","isWall","previousNode","mouseIsPressed","componentDidMount","setState","handleMouseDown","newGrid","getNewGridWithWallToggled","handleMouseEnter","handleMouseUp","animateDijkstra","visitedNodesInOrder","nodesInShortestPathOrder","i","length","setTimeout","animateShortestPath","node","document","getElementById","className","visualizeDijkstra","startNode","finishNode","refreshPage","window","location","reload","refreshGrid","render","map","rowIdx","nodeIdx","slice","newNode"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Node from './Node/Node';\r\nimport {dijkstra, getNodesInShortestPathOrder} from '../algorithms/dijkstra';\r\nimport Navbar from \"../Navbar\"\r\n\r\nimport './PathfindingVisualizer.css';\r\n\r\nconst START_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\r\nconst START_NODE_COL = Math.floor(Math.random() * Math.floor(50));\r\nconst FINISH_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\r\nconst FINISH_NODE_COL = Math.floor(Math.random() * Math.floor(50));\r\n\r\nexport default class PathfindingVisualizer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      grid: [],\r\n      mouseIsPressed: false,\r\n      START_NODE_ROW: Math.floor(Math.random() * Math.floor(20)),\r\n      START_NODE_COL: Math.floor(Math.random() * Math.floor(50)),\r\n      FINISH_NODE_ROW: Math.floor(Math.random() * Math.floor(20)),\r\n      FINISH_NODE_COL: Math.floor(Math.random() * Math.floor(50)),\r\n\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const grid = this.getInitialGrid();\r\n    this.setState({grid});\r\n  }\r\n\r\n  handleMouseDown(row, col) {\r\n    const newGrid = getNewGridWithWallToggled(this.state.grid, row, col);\r\n    this.setState({grid: newGrid, mouseIsPressed: true});\r\n  }\r\n\r\n  handleMouseEnter(row, col) {\r\n    if (!this.state.mouseIsPressed) return;\r\n    const newGrid = getNewGridWithWallToggled(this.state.grid, row, col);\r\n    this.setState({grid: newGrid});\r\n  }\r\n\r\n  handleMouseUp() {\r\n    this.setState({mouseIsPressed: false});\r\n  }\r\n\r\n  animateDijkstra(visitedNodesInOrder, nodesInShortestPathOrder) {\r\n    for (let i = 0; i <= visitedNodesInOrder.length; i++) {\r\n      if (i === visitedNodesInOrder.length) {\r\n        setTimeout(() => {\r\n          this.animateShortestPath(nodesInShortestPathOrder);\r\n        }, 10 * i);\r\n        return;\r\n      }\r\n      setTimeout(() => {\r\n        const node = visitedNodesInOrder[i];\r\n        document.getElementById(`node-${node.row}-${node.col}`).className =\r\n          'node node-visited';\r\n      }, 10 * i);\r\n    }\r\n  }\r\n\r\n  animateShortestPath(nodesInShortestPathOrder) {\r\n    for (let i = 0; i < nodesInShortestPathOrder.length; i++) {\r\n      setTimeout(() => {\r\n        const node = nodesInShortestPathOrder[i];\r\n        document.getElementById(`node-${node.row}-${node.col}`).className =\r\n          'node node-shortest-path';\r\n      }, 50 * i);\r\n    }\r\n  }\r\n\r\n  visualizeDijkstra() {\r\n    const {grid} = this.state;\r\n    const startNode = grid[this.state.START_NODE_ROW][this.state.START_NODE_COL];\r\n    const finishNode = grid[this.state.FINISH_NODE_ROW][this.state.FINISH_NODE_COL];\r\n    const visitedNodesInOrder = dijkstra(grid, startNode, finishNode);\r\n    const nodesInShortestPathOrder = getNodesInShortestPathOrder(finishNode);\r\n    this.animateDijkstra(visitedNodesInOrder, nodesInShortestPathOrder);\r\n  }\r\n\r\n  refreshPage() {\r\n    window.location.reload(false);\r\n  }\r\n\r\n  refreshGrid(){\r\n    const grid = this.getInitialGrid();\r\n    this.setState({grid});\r\n    const START_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\r\n    const START_NODE_COL = Math.floor(Math.random() * Math.floor(50));\r\n    const FINISH_NODE_ROW = Math.floor(Math.random() * Math.floor(20));\r\n    const FINISH_NODE_COL = Math.floor(Math.random() * Math.floor(50));\r\n    this.setState({START_NODE_ROW, START_NODE_COL, FINISH_NODE_ROW, FINISH_NODE_COL});\r\n    \r\n  }\r\n\r\n  getInitialGrid = () => {\r\n    const grid = [];\r\n    for (let row = 0; row < 20; row++) {\r\n      const currentRow = [];\r\n      for (let col = 0; col < 50; col++) {\r\n        currentRow.push(this.createNode(col, row));\r\n      }\r\n      grid.push(currentRow);\r\n    }\r\n    return grid;\r\n  };\r\n  \r\n  createNode = (col, row) => {\r\n    console.log(this.state.grid)\r\n    return {\r\n      col,\r\n      row,\r\n      isStart: row === this.state.START_NODE_ROW && col === this.state.START_NODE_COL,\r\n      isFinish: row === this.state.FINISH_NODE_ROW && col === this.state.FINISH_NODE_COL,\r\n      distance: Infinity,\r\n      isVisited: false,\r\n      isWall: false,\r\n      previousNode: null,\r\n    };\r\n  };\r\n  \r\n  render() {\r\n    const {grid, mouseIsPressed} = this.state;\r\n\r\n    return (\r\n      <>\r\n       \r\n        <div className=\"grid\">\r\n          {grid.map((row, rowIdx) => {\r\n            return (\r\n              <div key={rowIdx}>\r\n                {row.map((node, nodeIdx) => {\r\n                  const {row, col, isFinish, isStart, isWall} = node;\r\n                  return (\r\n                    <Node\r\n                      key={nodeIdx}\r\n                      col={col}\r\n                      isFinish={isFinish}\r\n                      isStart={isStart}\r\n                      isWall={isWall}\r\n                      mouseIsPressed={mouseIsPressed}\r\n                      onMouseDown={(row, col) => this.handleMouseDown(row, col)}\r\n                      onMouseEnter={(row, col) =>\r\n                        this.handleMouseEnter(row, col)\r\n                      }\r\n                      onMouseUp={() => this.handleMouseUp()}\r\n                      row={row}></Node>\r\n                  );\r\n                })}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <Navbar search={() => this.visualizeDijkstra()} refresh={() => this.refreshGrid()} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nconst getNewGridWithWallToggled = (grid, row, col) => {\r\n  const newGrid = grid.slice();\r\n  const node = newGrid[row][col];\r\n  const newNode = {\r\n    ...node,\r\n    isWall: !node.isWall,\r\n  };\r\n  newGrid[row][col] = newNode;\r\n  return newGrid;\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}